<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.1.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>Hexo</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Hexo</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/02/24/MachineLearning04/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/02/24/MachineLearning04/" class="post-title-link" itemprop="url">机器学习入门（四）</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-02-24 21:40:03" itemprop="dateCreated datePublished" datetime="2022-02-24T21:40:03+08:00">2022-02-24</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-04-24 19:30:51" itemprop="dateModified" datetime="2022-04-24T19:30:51+08:00">2022-04-24</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python%E8%BF%9B%E9%98%B6/" itemprop="url" rel="index"><span itemprop="name">Python进阶</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="第四篇：特征工程"><a href="#第四篇：特征工程" class="headerlink" title="第四篇：特征工程"></a>第四篇：特征工程</h1><p>特征选择方法有 3 种：</p>
<p>1.Filter(过滤法)：按照发散性或相关性，对各个特征进行评分，设定阈值个数，去选择特征。</p>
<p>2.Wrapper(包装法)：根据目标函数，每次选择若干特征 或 排除若干特征。</p>
<p>3.Embedded(嵌入法)：先使用某些机器学习模型进行训练，得到各个特征的权重，根据权重从大到小选择特征。</p>
<h2 id="Filter过滤法"><a href="#Filter过滤法" class="headerlink" title="Filter过滤法"></a>Filter过滤法</h2><h3 id="方差选择法"><a href="#方差选择法" class="headerlink" title="方差选择法"></a>方差选择法</h3><p>先计算各个特征的方差，再根据阈值去选择方差大于阈值的作为可用特征。</p>
<p>threshold：方差的阈值</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> datasets</span><br><span class="line">iris = datasets.load_iris()</span><br><span class="line"><span class="keyword">from</span> sklearn.feature_selection <span class="keyword">import</span> VarianceThreshold</span><br><span class="line">vardata1 = VarianceThreshold(threshold=<span class="number">3</span>).fit_transform(iris.data)</span><br><span class="line"><span class="built_in">print</span>(vardata1[:<span class="number">10</span>])</span><br></pre></td></tr></table></figure>

<h3 id="相关系数法"><a href="#相关系数法" class="headerlink" title="相关系数法"></a>相关系数法</h3><p>先计算各个特征对目标值的相关系数，再用特征选择库中的<code>SelectKBest</code>类，结合相关系数来选择特征。</p>
<p>选择K个最好的特征，返回选择特征后的数据。</p>
<p>第一个参数<code>f</code>为：计算评估特征是否好的函数，该函数输入为：特征矩阵和目标向量，输出为：二元组（评分，<code>P</code>值）的数组，数组第<code>i</code>项为第<code>i</code>个特征的评分和<code>P</code>值。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.feature_selection <span class="keyword">import</span> SelectKBest</span><br><span class="line"><span class="keyword">from</span> scipy.stats <span class="keyword">import</span> pearsonr</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="comment"># 计算相关系数(即函数f的输出结果)</span></span><br><span class="line">f = <span class="keyword">lambda</span> X, Y: np.array(<span class="built_in">list</span>(<span class="built_in">map</span>(<span class="keyword">lambda</span> x: pearsonr(x, Y)[<span class="number">0</span>], X.T))).T</span><br><span class="line"><span class="comment"># 参数k为选择的特征个数</span></span><br><span class="line">vardata2 = SelectKBest(f,k=<span class="number">2</span>).fit_transform(iris.data, iris.target)</span><br><span class="line"><span class="built_in">print</span>(vardata2[:<span class="number">10</span>])</span><br></pre></td></tr></table></figure>

<h3 id="互信息法"><a href="#互信息法" class="headerlink" title="互信息法"></a>互信息法</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.feature_selection <span class="keyword">import</span> SelectKBest</span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> metrics</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">mic = metrics.mutual_info_score</span><br><span class="line">g = <span class="keyword">lambda</span> X, Y: np.array(<span class="built_in">list</span>(<span class="built_in">map</span>(<span class="keyword">lambda</span> x:mic(x, Y), X.T))).T <span class="comment">#选择K个最好的特征，返回特征选择后的数据</span></span><br><span class="line">vardata3 = SelectKBest(g, k=<span class="number">2</span>).fit_transform(iris.data, iris.target)</span><br><span class="line"><span class="built_in">print</span>(vardata3[:<span class="number">10</span>])</span><br></pre></td></tr></table></figure>

<h2 id="Wrapper包装法"><a href="#Wrapper包装法" class="headerlink" title="Wrapper包装法"></a>Wrapper包装法</h2><h3 id="递归特征消除法"><a href="#递归特征消除法" class="headerlink" title="递归特征消除法"></a>递归特征消除法</h3><p>使用一个 “基模型” 进行多轮训练，每轮训练后，消除若干权重小的特征，再基于新的特征进行下一轮训练。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.feature_selection <span class="keyword">import</span> RFE</span><br><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> LogisticRegression</span><br><span class="line">vardata4 = RFE(estimator=LogisticRegression(), n_features_to_select=<span class="number">2</span>).fit_transform(iris.data, iris.target)</span><br><span class="line"><span class="built_in">print</span>(vardata4[:<span class="number">10</span>])</span><br></pre></td></tr></table></figure>

<h2 id="Embedded嵌入法"><a href="#Embedded嵌入法" class="headerlink" title="Embedded嵌入法"></a>Embedded嵌入法</h2><h3 id="基于惩罚项的特征选择法"><a href="#基于惩罚项的特征选择法" class="headerlink" title="基于惩罚项的特征选择法"></a>基于惩罚项的特征选择法</h3><p>使用带惩罚项的基模型，不仅可以筛选出特征，同时也会进行降维。使用特征选择库中的<code>SelectFromModel</code>类结合带<code>L1</code>惩罚项的逻辑回归模型。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.feature_selection <span class="keyword">import</span> SelectFromModel</span><br><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> LogisticRegression</span><br><span class="line">vardata5 = SelectFromModel(LogisticRegression( penalty=<span class="string">&quot;l1&quot;</span>, C=<span class="number">0.1</span>)).fit_transform(iris.data, iris.target)</span><br><span class="line"><span class="built_in">print</span>(vardata5[:<span class="number">10</span>])</span><br></pre></td></tr></table></figure>

<h3 id="基于树模型的特征选择法"><a href="#基于树模型的特征选择法" class="headerlink" title="基于树模型的特征选择法"></a>基于树模型的特征选择法</h3><p>树模型中的<code>GBDT</code>可以用来作为基模型进行特征选择。使用特征选择库中的<code>SelectFromModel</code>类 结合<code>GBDT</code>模型。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.feature_selection <span class="keyword">import</span> SelectFromModel</span><br><span class="line"><span class="keyword">from</span> sklearn.ensemble <span class="keyword">import</span> GradientBoostingClassifier</span><br><span class="line">vardata6 = SelectFromModel(GradientBoostingClassifier()).fit_transform(iris.data, iris.target)</span><br><span class="line"><span class="built_in">print</span>(vardata6[:<span class="number">10</span>])</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/02/22/MachineLearning03/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/02/22/MachineLearning03/" class="post-title-link" itemprop="url">机器学习入门（三）</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-02-22 20:13:53" itemprop="dateCreated datePublished" datetime="2022-02-22T20:13:53+08:00">2022-02-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-04-24 19:30:19" itemprop="dateModified" datetime="2022-04-24T19:30:19+08:00">2022-04-24</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python%E8%BF%9B%E9%98%B6/" itemprop="url" rel="index"><span itemprop="name">Python进阶</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="第三篇：数据预处理"><a href="#第三篇：数据预处理" class="headerlink" title="第三篇：数据预处理"></a>第三篇：数据预处理</h1><h2 id="数据预处理"><a href="#数据预处理" class="headerlink" title="数据预处理"></a>数据预处理</h2><p>数据的标准化 — 将特征数据的分布转换成 标准正态分布（也叫高斯分布），使数据的均值为0，方差为1。</p>
<p>标准化的原因 — 有些特征的方差过大，会对目标函数产生较大影响，从而使参数估计器无法正确学习其他特征。标准化过程为两步：1. 去均值中心化（使均值为0）；2. 方差规范化（使方差变1）。</p>
<h3 id="标准化"><a href="#标准化" class="headerlink" title="标准化"></a>标准化</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> preprocessing</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">x = np.array([[<span class="number">1.</span>, -<span class="number">1.</span>, <span class="number">2.</span>],</span><br><span class="line">              [<span class="number">2.</span>, <span class="number">0.</span>, <span class="number">0.</span>],</span><br><span class="line">              [<span class="number">0.</span>, <span class="number">1.</span>, -<span class="number">1.</span>]])</span><br><span class="line">x_scale = preprocessing.scale(x)  <span class="comment"># preprocessing.scale()，可以实现标准化</span></span><br><span class="line">scaler = preprocessing.StandardScaler().fit(x)  <span class="comment"># preprocessing.StandardScaler()，可以将训练集转换成标准数据集</span></span><br><span class="line">scaler.transform(x)  <span class="comment"># 转换成标准数据集之后，再调用transform()，就可以将相同的转换应用到测试集中</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> datasets</span><br><span class="line"></span><br><span class="line">iris = datasets.load_iris()</span><br><span class="line">scaler = preprocessing.MinMaxScaler()  <span class="comment"># preprocessing.MinMaxScaler()，将样本特征值线性缩放到 0,1 之间</span></span><br><span class="line">scaler.fit(iris.data)</span><br><span class="line">data = scaler.transform(iris.data)</span><br></pre></td></tr></table></figure>

<h3 id="归一化：又叫正则化"><a href="#归一化：又叫正则化" class="headerlink" title="归一化：又叫正则化"></a>归一化：又叫正则化</h3><p>在训练集不充裕时，常常会导致过拟合。这时向模型中引入额外数据，防止过拟合并提高模型泛化性能。<br>在深度学习中，最好的拟合模型（从最小化泛化误差的角度讲）是一个适度正则化的大型模型。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> preprocessing</span><br><span class="line"></span><br><span class="line">X = [[<span class="number">1.</span>, -<span class="number">1.</span>, <span class="number">2.</span>], [<span class="number">2.</span>, <span class="number">0.</span>, <span class="number">0.</span>], [<span class="number">0.</span>, <span class="number">1.</span>, -<span class="number">1.</span>]]</span><br><span class="line"><span class="comment"># 法1：使用normalize函数</span></span><br><span class="line">X_normalized = preprocessing.normalize(X, norm=<span class="string">&#x27;l2&#x27;</span>)  <span class="comment"># l2范数</span></span><br><span class="line"><span class="built_in">print</span>(X_normalized)</span><br><span class="line"><span class="comment"># 法2：使用Normalizer类</span></span><br><span class="line">normalizer = preprocessing.Normalizer(norm=<span class="string">&#x27;l1&#x27;</span>)  <span class="comment"># l1范数</span></span><br><span class="line">normalizer.fit(X)</span><br><span class="line">normalizer.transform(X)</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/02/15/DeepLearning04/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/02/15/DeepLearning04/" class="post-title-link" itemprop="url">深度学习入门（四）</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-02-15 19:05:07" itemprop="dateCreated datePublished" datetime="2022-02-15T19:05:07+08:00">2022-02-15</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-04-24 19:29:48" itemprop="dateModified" datetime="2022-04-24T19:29:48+08:00">2022-04-24</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python%E8%BF%9B%E9%98%B6/" itemprop="url" rel="index"><span itemprop="name">Python进阶</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="第四篇：Keras总结四"><a href="#第四篇：Keras总结四" class="headerlink" title="第四篇：Keras总结四"></a>第四篇：Keras总结四</h1><p>卷积神经网络（CNN）与MLP相似，向前传送信号（即 前馈网络）。其中，</p>
<p>卷积层：在过滤器（即 Filter）中处理数据；</p>
<p>池化层：沿2维向下采样（通常为宽度 和 高度）；</p>
<p>全连接层：类似于MLP的隐藏层。</p>
<h2 id="导入数据集"><a href="#导入数据集" class="headerlink" title="导入数据集"></a>导入数据集</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> datasets</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"><span class="keyword">from</span> keras.utils.np_utils <span class="keyword">import</span> to_categorical</span><br></pre></td></tr></table></figure>

<h2 id="加载数据集"><a href="#加载数据集" class="headerlink" title="加载数据集"></a>加载数据集</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">data = datasets.load_digits()  <span class="comment"># sklearn中的 &quot;数字数据集&quot;</span></span><br><span class="line">plt.imshow(data.images[<span class="number">0</span>])  </span><br><span class="line">plt.show()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;label: &#x27;</span>, data.target[<span class="number">0</span>])  <span class="comment"># 标签为&#x27;0&#x27;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">X_data = data.images</span><br><span class="line">y_data = data.target</span><br><span class="line"># shape of data</span><br><span class="line">print(X_data.shape)  # (1797, 8, 8)</span><br><span class="line">print(y_data.shape)  # (1797, )</span><br><span class="line"></span><br><span class="line"># 将 X_data 转成3维的格式</span><br><span class="line">X_data = X_data.reshape((X_data.shape[0], X_data.shape[1], X_data.shape[2], 1))</span><br><span class="line"># one-hot encoding of y_data</span><br><span class="line">y_data = to_categorical(y_data)</span><br><span class="line"></span><br><span class="line"># 将数据划分为训练集和测试集</span><br><span class="line">X_train, X_test, y_train, y_test = train_test_split(X_data, y_data, test_size=0.3, random_state=777)</span><br><span class="line">print(X_train.shape)</span><br><span class="line">print(X_test.shape)</span><br><span class="line">print(y_train.shape)</span><br><span class="line">print(y_test.shape)</span><br></pre></td></tr></table></figure>

<p>one-hot encoding：独热编码，又称一位有效编码。具体是使用N位状态寄存器，对N个状态进行编码，每个状态都有独立的寄存器位，并且在任意时候，其中只有一位有效。</p>
<p>通俗理解：对于每一个特征，如果有m个可能值，那么经过 one-hot encoding 后，就变成m个二元特征。并且，这些特征互斥，每次只有一个激活。因此，数据会变成稀疏的。</p>
<p>使用 one-hot encoding 的好处：</p>
<ol>
<li>解决了分类器不好处理属性数据的问题；</li>
<li>在一定程度上起到了扩充特征的作用。</li>
</ol>
<p>关于one-hot encoding的解读，引自<a target="_blank" rel="noopener" href="https://www.jianshu.com/p/cb344e1c860a">BigfaceMonster</a>。</p>
<h2 id="创建模型"><a href="#创建模型" class="headerlink" title="创建模型"></a>创建模型</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> keras.models <span class="keyword">import</span> Sequential</span><br><span class="line"><span class="keyword">from</span> keras <span class="keyword">import</span> optimizers</span><br><span class="line"><span class="keyword">from</span> keras.layers <span class="keyword">import</span> Dense, Activation, Flatten, Conv2D, MaxPooling2D</span><br><span class="line"></span><br><span class="line">model = Sequential()</span><br></pre></td></tr></table></figure>

<h2 id="卷积层"><a href="#卷积层" class="headerlink" title="卷积层"></a>卷积层</h2><p>通常，二维卷积用于图像处理。</p>
<p>Filter的大小（即 卷积核尺寸）用于定义过滤器的 宽度 和 高度。</p>
<p>Filter的数量 等于下一层的 深度(即 通道数) 。</p>
<p>步幅strides 是 Filter每次移动的距离。</p>
<p>图像可以使用“padding”参数设置为“零填充”，防止变得太小。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">model.add(Conv2D(input_shape=(X_data.shape[<span class="number">1</span>], X_data.shape[<span class="number">2</span>], X_data.shape[<span class="number">3</span>]), filters=<span class="number">10</span>, kernel_size=(<span class="number">3</span>, <span class="number">3</span>), strides=(<span class="number">1</span>, <span class="number">1</span>), padding=<span class="string">&#x27;valid&#x27;</span>))</span><br></pre></td></tr></table></figure>

<h2 id="激活函数层"><a href="#激活函数层" class="headerlink" title="激活函数层"></a>激活函数层</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">model.add(Activation(<span class="string">&#x27;relu&#x27;</span>))</span><br></pre></td></tr></table></figure>

<h2 id="池化层"><a href="#池化层" class="headerlink" title="池化层"></a>池化层</h2><p>一般使用最大池化，可以减少参数数量。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">model.add(MaxPooling2D(pool_size=(<span class="number">2</span>, <span class="number">2</span>)))</span><br></pre></td></tr></table></figure>

<h2 id="全连接层"><a href="#全连接层" class="headerlink" title="全连接层"></a>全连接层</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">model.add(Flatten())</span><br><span class="line">model.add(Dense(<span class="number">50</span>, activation=<span class="string">&#x27;relu&#x27;</span>))  <span class="comment"># 添加具有50个神经元的全连接层</span></span><br><span class="line">model.add(Dense(<span class="number">10</span>, activation=<span class="string">&#x27;softmax&#x27;</span>))  <span class="comment"># 最后一层添加具有10个神经元的全连接层，用来分类</span></span><br></pre></td></tr></table></figure>

<h2 id="模型编译与训练"><a href="#模型编译与训练" class="headerlink" title="模型编译与训练"></a>模型编译与训练</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">adam = optimizers.Adam(lr=<span class="number">0.001</span>)</span><br><span class="line">model.<span class="built_in">compile</span>(loss=<span class="string">&#x27;categorical_crossentropy&#x27;</span>, optimizer=adam, metrics=[<span class="string">&#x27;accuracy&#x27;</span>])</span><br><span class="line">history = model.fit(X_train, y_train, batch_size=<span class="number">50</span>, validation_split=<span class="number">0.2</span>, epochs=<span class="number">100</span>, verbose=<span class="number">0</span>)</span><br><span class="line">plt.plot(history.history[<span class="string">&#x27;train_acc&#x27;</span>])</span><br><span class="line">plt.plot(history.history[<span class="string">&#x27;val_acc&#x27;</span>])</span><br><span class="line">plt.legend([<span class="string">&#x27;train&#x27;</span>, <span class="string">&#x27;validation&#x27;</span>], loc=<span class="string">&#x27;upper left&#x27;</span>)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line">results = model.evaluate(X_test, y_test)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;Test accuracy: &#x27;</span>, results[<span class="number">1</span>])</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/02/10/DeepLearning03/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/02/10/DeepLearning03/" class="post-title-link" itemprop="url">深度学习入门（三）</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-02-10 19:05:03" itemprop="dateCreated datePublished" datetime="2022-02-10T19:05:03+08:00">2022-02-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-04-24 19:33:35" itemprop="dateModified" datetime="2022-04-24T19:33:35+08:00">2022-04-24</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python%E8%BF%9B%E9%98%B6/" itemprop="url" rel="index"><span itemprop="name">Python进阶</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="第三篇：Keras总结三"><a href="#第三篇：Keras总结三" class="headerlink" title="第三篇：Keras总结三"></a>第三篇：Keras总结三</h1><p>前置知识：<br>对于”图像格式”的数据的输入，通常是张量中的四维数组。<br>num_instance：数据实例数(数值)。通常指定为无，以适应数据大小的变动；<br>宽度：图像的宽度；<br>高度：图像的高度；<br>深度：图像的深度。彩色图像的深度通常为3（RGB为3个通道）。黑白图像的深度通常为1（只有一个通道）</p>
<h2 id="导入模块和数据集"><a href="#导入模块和数据集" class="headerlink" title="导入模块和数据集"></a>导入模块和数据集</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> tensorflow.keras.models <span class="keyword">import</span> Sequential</span><br><span class="line"><span class="keyword">from</span> tensorflow.keras <span class="keyword">import</span> optimizers</span><br><span class="line"><span class="keyword">from</span> tensorflow.keras.layers <span class="keyword">import</span> Dense, Activation, Flatten, Conv2D, MaxPooling2D, AveragePooling2D, GlobalMaxPooling2D, ZeroPadding2D, Input</span><br><span class="line"><span class="keyword">from</span> tensorflow.keras.models <span class="keyword">import</span> Model</span><br><span class="line"><span class="keyword">from</span> tensorflow.keras.datasets <span class="keyword">import</span> cifar10, mnist</span><br><span class="line"><span class="keyword">from</span> tensorflow.keras.preprocessing <span class="keyword">import</span> image</span><br></pre></td></tr></table></figure>

<p>CIFAR-10</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">(x_train, y_train), _ = cifar10.load_data()</span><br><span class="line"><span class="built_in">print</span>(x_train[<span class="number">0</span>].shape)   <span class="comment"># CIFAR-10中的图像是三维的（宽 * 高 * 深），因为是彩色图像</span></span><br><span class="line"><span class="comment"># 显示图像</span></span><br><span class="line">fig = plt.figure(figsize=(<span class="number">10</span>, <span class="number">10</span>))</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">9</span>):</span><br><span class="line">    fig.add_subplot(<span class="number">3</span>, <span class="number">3</span>, i + <span class="number">1</span>)</span><br><span class="line">    plt.imshow(x_train[i])</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p>MINIST</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">(x_train, y_train), _ = mnist.load_data()</span><br><span class="line"><span class="built_in">print</span>(x_train[<span class="number">0</span>].shape)   <span class="comment"># MINIST中的图像是二维的（宽 * 高），因为是黑白图像</span></span><br><span class="line"><span class="comment"># 显示图像</span></span><br><span class="line">fig = plt.figure(figsize = (<span class="number">10</span>, <span class="number">10</span>))</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">9</span>):</span><br><span class="line">  fig.add_subplot(<span class="number">3</span>, <span class="number">3</span>, i+<span class="number">1</span>)</span><br><span class="line">  plt.imshow(x_train[i])</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<h2 id="Keras中常见的模型层"><a href="#Keras中常见的模型层" class="headerlink" title="Keras中常见的模型层"></a>Keras中常见的模型层</h2><h3 id="Padding"><a href="#Padding" class="headerlink" title="Padding"></a>Padding</h3><p>包括两种类型：<br>1.valid：无填充—删除最右边的列和最下面的行<br>2.same：填充大小 p&#x3D;k&#x2F;2（当内核大小&#x3D;k时）<br>自定义输入时，可提供“零填充”层</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># padding = &#x27;valid&#x27;</span></span><br><span class="line">model = Sequential()</span><br><span class="line">model.add(Conv2D(input_shape=(<span class="number">10</span>, <span class="number">10</span>, <span class="number">3</span>), filters=<span class="number">10</span>, kernel_size=(<span class="number">3</span>, <span class="number">3</span>), strides=(<span class="number">1</span>, <span class="number">1</span>), padding=<span class="string">&#x27;valid&#x27;</span>))</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># padding = &#x27;same&#x27;</span></span><br><span class="line">model = Sequential()</span><br><span class="line">model.add(Conv2D(input_shape=(<span class="number">10</span>, <span class="number">10</span>, <span class="number">3</span>), filters=<span class="number">10</span>, kernel_size=(<span class="number">3</span>, <span class="number">3</span>), strides=(<span class="number">1</span>, <span class="number">1</span>), padding=<span class="string">&#x27;same&#x27;</span>))</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 自定义输入时，可提供“零填充”层</span></span><br><span class="line">input_layer = Input(shape=(<span class="number">10</span>, <span class="number">10</span>, <span class="number">3</span>))</span><br><span class="line">padding_layer = ZeroPadding2D(padding=(<span class="number">1</span>, <span class="number">1</span>))(input_layer)</span><br><span class="line">model = Model(inputs=input_layer, outputs=padding_layer)</span><br><span class="line"><span class="built_in">print</span>(model.output_shape)</span><br></pre></td></tr></table></figure>

<h3 id="Filter-x2F-kernels"><a href="#Filter-x2F-kernels" class="headerlink" title="Filter&#x2F;kernels"></a>Filter&#x2F;kernels</h3><p>Filter：可以指定过滤器的数量。过滤器数量等于下一层的 “深度” （即通道数）。每一层都有输入和输出。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 当过滤器的数量为10时</span></span><br><span class="line">model = Sequential()</span><br><span class="line">model.add(Conv2D(input_shape=(<span class="number">10</span>, <span class="number">10</span>, <span class="number">3</span>), filters=<span class="number">10</span>, kernel_size=(<span class="number">3</span>, <span class="number">3</span>), strides=(<span class="number">1</span>, <span class="number">1</span>), padding=<span class="string">&#x27;same&#x27;</span>))</span><br><span class="line"><span class="comment"># 可以看到当前卷积层的输出中，深度就为10</span></span><br><span class="line"><span class="built_in">print</span>(model.output_shape)</span><br></pre></td></tr></table></figure>

<h3 id="Pooling"><a href="#Pooling" class="headerlink" title="Pooling"></a>Pooling</h3><p>通常，最大池化用于矩形区域。参数设置，类似于卷积层。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">model.add(MaxPooling2D(input_shape=(<span class="number">10</span>, <span class="number">10</span>, <span class="number">3</span>), filters=<span class="number">10</span>, kernel_size=(<span class="number">3</span>, <span class="number">3</span>), strides=(<span class="number">1</span>, <span class="number">1</span>), padding=<span class="string">&#x27;same&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果没设置&quot;步长strides&quot;，那么步长等于 “池大小”</span></span><br><span class="line">model.add(MaxPooling2D(pool_size=(<span class="number">2</span>, <span class="number">2</span>), padding=<span class="string">&#x27;valid&#x27;</span>))</span><br></pre></td></tr></table></figure>

<h4 id="MaxPooling2D"><a href="#MaxPooling2D" class="headerlink" title="MaxPooling2D"></a>MaxPooling2D</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">model.add(MaxPooling2D(pool_size=(<span class="number">2</span>, <span class="number">2</span>), strides=(<span class="number">1</span>, <span class="number">1</span>), padding=<span class="string">&#x27;valid&#x27;</span>))</span><br></pre></td></tr></table></figure>

<h4 id="AveragePooling2D"><a href="#AveragePooling2D" class="headerlink" title="AveragePooling2D"></a>AveragePooling2D</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">model.add(AveragePooling2D(pool_size=(<span class="number">2</span>, <span class="number">2</span>), padding=<span class="string">&#x27;valid&#x27;</span>))</span><br></pre></td></tr></table></figure>

<h4 id="GlobalMaxPooling"><a href="#GlobalMaxPooling" class="headerlink" title="GlobalMaxPooling"></a>GlobalMaxPooling</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">model.add(GlobalMaxPooling2D())</span><br></pre></td></tr></table></figure>

<h3 id="Flatten-扁平化"><a href="#Flatten-扁平化" class="headerlink" title="Flatten (扁平化)"></a>Flatten (扁平化)</h3><p>在添加 全连接层 之前，需要先添加 Flatten 层，对卷积层、池化层进行扁平化处理。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">model.add(Flatten())</span><br></pre></td></tr></table></figure>

<h3 id="Fully-Connected-全连接层，即-Dense层"><a href="#Fully-Connected-全连接层，即-Dense层" class="headerlink" title="Fully Connected (全连接层，即 Dense层)"></a>Fully Connected (全连接层，即 Dense层)</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">model.add(Dense(<span class="number">50</span>))</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/01/08/MachineLearning02/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/01/08/MachineLearning02/" class="post-title-link" itemprop="url">机器学习入门（二）</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-01-08 21:15:53" itemprop="dateCreated datePublished" datetime="2022-01-08T21:15:53+08:00">2022-01-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-04-24 19:29:06" itemprop="dateModified" datetime="2022-04-24T19:29:06+08:00">2022-04-24</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python%E8%BF%9B%E9%98%B6/" itemprop="url" rel="index"><span itemprop="name">Python进阶</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="第二篇：Numpy总结"><a href="#第二篇：Numpy总结" class="headerlink" title="第二篇：Numpy总结"></a>第二篇：Numpy总结</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br></pre></td></tr></table></figure>

<h2 id="创建数组"><a href="#创建数组" class="headerlink" title="创建数组"></a>创建数组</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a1 = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])  <span class="comment"># 传入列表参数</span></span><br><span class="line">b1 = np.arange(<span class="number">0</span>, <span class="number">10</span>, <span class="number">1</span>)  <span class="comment"># 相当于Python的range</span></span><br></pre></td></tr></table></figure>

<h2 id="linspace-和-logspace用法"><a href="#linspace-和-logspace用法" class="headerlink" title="linspace 和 logspace用法"></a>linspace 和 logspace用法</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a2 = np.linspace(<span class="number">0</span>, <span class="number">10</span>, <span class="number">10</span>)  </span><br><span class="line">b2 = np.logspace(<span class="number">0</span>, <span class="number">10</span>, <span class="number">10</span>)</span><br></pre></td></tr></table></figure>

<h2 id="reshape-和-reshape用法"><a href="#reshape-和-reshape用法" class="headerlink" title="reshape 和 reshape用法"></a>reshape 和 reshape用法</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">a3 = np.arange(<span class="number">10</span>)</span><br><span class="line"><span class="built_in">print</span>(a3.shape)				<span class="comment"># (10,)</span></span><br><span class="line"><span class="built_in">print</span>(a3.reshape(<span class="number">2</span>, <span class="number">5</span>))		 <span class="comment"># 将a3变为2个 长度为5 的二维数组</span></span><br><span class="line">a4 = np.array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]])</span><br><span class="line"><span class="built_in">print</span>(a4)</span><br><span class="line"><span class="built_in">print</span>(a4.reshape(<span class="number">1</span>, -<span class="number">1</span>))     <span class="comment"># 行固定，列需要计算得到</span></span><br><span class="line"><span class="built_in">print</span>(a4.reshape(-<span class="number">1</span>, <span class="number">1</span>))     <span class="comment"># 列固定，行需要计算得到</span></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">reshape(m,-1)  行数=m，列数=(数组或矩阵中所有元素个数)/m</span><br><span class="line">reshape(-1, m) 列数=m，行数=(数组或矩阵中所有元素个数)/m</span><br></pre></td></tr></table></figure>

<h2 id="数据切片和选取"><a href="#数据切片和选取" class="headerlink" title="数据切片和选取"></a>数据切片和选取</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">a5 = a3 * <span class="number">10</span></span><br><span class="line">a5[<span class="number">3</span>:<span class="number">5</span>] = <span class="number">100</span></span><br><span class="line"><span class="built_in">print</span>(a5)  							<span class="comment"># 广播</span></span><br><span class="line"><span class="built_in">print</span>(a5[<span class="number">2</span>:<span class="number">8</span>:<span class="number">2</span>])  			 		<span class="comment"># 顾头不顾腚 [ 20 100  60]</span></span><br><span class="line"><span class="built_in">print</span>(a5[<span class="number">5</span>:])  				 		<span class="comment"># [50 60 70 80 90]</span></span><br><span class="line">a6 = np.arange(<span class="number">24</span>).reshape(<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)   <span class="comment"># 将a6变为2个 行数为3，列数为4 的三维数组</span></span><br><span class="line"><span class="built_in">print</span>(a6)</span><br></pre></td></tr></table></figure>

<h2 id="数组的布尔值运用"><a href="#数组的布尔值运用" class="headerlink" title="数组的布尔值运用"></a>数组的布尔值运用</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">m = np.arange(<span class="number">0</span>, <span class="number">10</span>, <span class="number">1</span>)</span><br><span class="line">n = np.arange(<span class="number">10</span>, <span class="number">0</span>, -<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(np.<span class="built_in">sum</span>(m &gt; <span class="number">5</span>))			<span class="comment"># 打印 数组m中，大于5的元素个数</span></span><br><span class="line"><span class="built_in">print</span>(np.<span class="built_in">sum</span>(~(n &gt; <span class="number">3</span>)))  		<span class="comment"># 打印 数组n中，不大于3的元素个数</span></span><br></pre></td></tr></table></figure>

<h2 id="数组的连接"><a href="#数组的连接" class="headerlink" title="数组的连接"></a>数组的连接</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">m1 = np.array([[<span class="number">1</span>, <span class="number">2</span>], [<span class="number">3</span>, <span class="number">4</span>]])</span><br><span class="line">m2 = np.array([[<span class="number">5</span>, <span class="number">6</span>], [<span class="number">7</span>, <span class="number">8</span>]])</span><br><span class="line">m3 = np.array([[<span class="number">9</span>, <span class="number">9</span>], [<span class="number">9</span>, <span class="number">9</span>]])</span><br><span class="line"><span class="built_in">print</span>(np.concatenate((m1, m2, m3), axis=<span class="number">1</span>))  <span class="comment"># 在前一个数组 右面 连接 新数组</span></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">axis=0代表，只对行操作</span><br><span class="line">axis=1代表，只对列操作</span><br></pre></td></tr></table></figure>

<h2 id="求唯一值"><a href="#求唯一值" class="headerlink" title="求唯一值"></a>求唯一值</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">m4 = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">7</span>])</span><br><span class="line"><span class="built_in">print</span>(np.unique(m4))</span><br></pre></td></tr></table></figure>

<h2 id="生成随机数"><a href="#生成随机数" class="headerlink" title="生成随机数"></a>生成随机数</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">np.random.rand(<span class="number">3</span>, <span class="number">4</span>)				<span class="comment"># 随机生成 3行 4列 [0, 1)之间的数组</span></span><br><span class="line">np.random.randn(<span class="number">3</span>, <span class="number">4</span>)				<span class="comment"># 随机生成 3行 4列 均值为0 标准差为1 的数组，满足&quot;标准正态分布&quot;</span></span><br><span class="line">np.random.normal(<span class="number">5</span>, <span class="number">1</span>, size=(<span class="number">3</span>, <span class="number">4</span>))	 <span class="comment"># 随机生成 3行 4列 均值为5 标准差为1 的数组，满足&quot;正态分布&quot;</span></span><br><span class="line">np.random.randint(<span class="number">1</span>, <span class="number">10</span>, <span class="number">10</span>)		<span class="comment"># 随机生成 10个 [1, 10)之间的整数</span></span><br><span class="line">np.random.choice(<span class="number">3</span>, <span class="number">3</span>)				<span class="comment"># 随机生成 3个 [0, 3)之间的整数</span></span><br></pre></td></tr></table></figure>

<h2 id="np-random-seed-用法"><a href="#np-random-seed-用法" class="headerlink" title="np.random.seed()用法"></a>np.random.seed()用法</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>):</span><br><span class="line">    np.random.seed(<span class="number">1</span>)</span><br><span class="line">    <span class="built_in">print</span>(np.random.randint(<span class="number">1</span>, <span class="number">10</span>, <span class="number">10</span>))</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">参数相同时，每次生成的随机数也相同；</span><br><span class="line">参数不同 或 没有参数时，与np.random.rand()等效</span><br></pre></td></tr></table></figure>

<h2 id="数组和矩阵的区别"><a href="#数组和矩阵的区别" class="headerlink" title="数组和矩阵的区别"></a>数组和矩阵的区别</h2><h3 id="创建区别：矩阵是-mat-或-matrix，数组是-array-或-arange"><a href="#创建区别：矩阵是-mat-或-matrix，数组是-array-或-arange" class="headerlink" title="创建区别：矩阵是 mat 或 matrix，数组是 array 或 arange"></a>创建区别：矩阵是 mat 或 matrix，数组是 array 或 arange</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(np.matrix(np.eye(<span class="number">5</span>)))		<span class="comment"># 5X5的单位矩阵</span></span><br><span class="line"><span class="built_in">print</span>(np.array(np.eye(<span class="number">5</span>)))		<span class="comment"># 5X5的单位数组</span></span><br></pre></td></tr></table></figure>

<h3 id="使用区别"><a href="#使用区别" class="headerlink" title="使用区别"></a>使用区别</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">m5 = np.matrix(<span class="string">&#x27;1 2 3; 4 5 6; 7 8 9&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(m5)</span><br><span class="line"><span class="built_in">print</span>(m5.T)  <span class="comment"># 返回 ”矩阵的“ 转置矩阵</span></span><br><span class="line"><span class="built_in">print</span>(m5.I)  <span class="comment"># 返回 ”矩阵的“ 逆矩阵</span></span><br><span class="line"><span class="built_in">print</span>(m5.H)  <span class="comment"># 返回 ”复数矩阵的“ 共轭矩阵</span></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">矩阵的元素之间必须用空格隔开</span><br><span class="line">矩阵换行必须用”;“ </span><br><span class="line">内部数据必须是”字符串“格式</span><br></pre></td></tr></table></figure>

<h3 id="拼接数组-和-分割数组"><a href="#拼接数组-和-分割数组" class="headerlink" title="拼接数组 和 分割数组"></a>拼接数组 和 分割数组</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">n2 = np.arange(<span class="number">6</span>).reshape(<span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">n3 = np.arange(<span class="number">6</span>, <span class="number">12</span>).reshape(<span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">n4 = np.concatenate([n2, n3])  <span class="comment"># 默认 axis=0，在前一个数组 下面 连接 新数组</span></span><br><span class="line">n5 = np.concatenate([n2, n3], axis=<span class="number">1</span>)  <span class="comment"># 在前一个数组 右面 连接 新数组</span></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">np.split(x, indices_or_sections, axis)</span><br><span class="line">x：待分割的数组</span><br><span class="line">indices_or_sections：若为int型，就将x平均分成int份；若为数组，就代表沿轴切分的位置</span><br><span class="line">axis：默认为0，代表横向分割；axis=1，代表纵向分割</span><br><span class="line"></span><br><span class="line">x = np.array([0,1,2,3,4,5,6,7,8])</span><br><span class="line">print (np.split(x,3)）</span><br><span class="line">print (np.split(x,[3,5,6,9]))</span><br><span class="line">print（np.split(x,[3,5,6,8])）</span><br><span class="line">输出：</span><br><span class="line">[array([0, 1, 2]), array([3, 4, 5]), array([6, 7, 8])]</span><br><span class="line">[array([0, 1, 2]), array([3, 4]), array([5]), array([6, 7, 8]), array([], dtype=int32)]</span><br><span class="line">[array([0, 1, 2]), array([3, 4]), array([5]), array([6, 7]), array([8])]</span><br></pre></td></tr></table></figure>

<h2 id="重复元素-tile-和-repeat"><a href="#重复元素-tile-和-repeat" class="headerlink" title="重复元素 tile 和 repeat"></a>重复元素 tile 和 repeat</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">x = np.arange(<span class="number">3</span>)</span><br><span class="line"><span class="built_in">print</span>(x.repeat(<span class="number">3</span>))			<span class="comment"># [0 0 0 1 1 1 2 2 2]</span></span><br><span class="line"><span class="built_in">print</span>(x.repeat([<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]))  <span class="comment"># [0 0 1 1 1 2 2 2 2]</span></span><br><span class="line"></span><br><span class="line">y = np.random.rand(<span class="number">2</span>, <span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(np.tile(y, <span class="number">3</span>))		<span class="comment"># 在数组y 右侧 重复3次</span></span><br></pre></td></tr></table></figure>

<h2 id="take-和-put"><a href="#take-和-put" class="headerlink" title="take 和 put"></a>take 和 put</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">arr = np.arange(<span class="number">10</span>) * <span class="number">10</span></span><br><span class="line">index = [<span class="number">7</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">8</span>]</span><br><span class="line"><span class="built_in">print</span>(arr.take(index))		<span class="comment"># 等效于 arr[index]</span></span><br><span class="line"><span class="built_in">print</span>(arr.put(index, <span class="number">0</span>))	<span class="comment"># 等效于 arr[index]=0</span></span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/01/06/MachineLearning01/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/01/06/MachineLearning01/" class="post-title-link" itemprop="url">机器学习入门（一）</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-01-06 15:40:03" itemprop="dateCreated datePublished" datetime="2022-01-06T15:40:03+08:00">2022-01-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-04-24 19:28:52" itemprop="dateModified" datetime="2022-04-24T19:28:52+08:00">2022-04-24</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python%E8%BF%9B%E9%98%B6/" itemprop="url" rel="index"><span itemprop="name">Python进阶</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="第一篇：Matplotlib总结"><a href="#第一篇：Matplotlib总结" class="headerlink" title="第一篇：Matplotlib总结"></a>第一篇：Matplotlib总结</h1><p><code>import matplotlib.pyplot as plt</code></p>
<h2 id="基本步骤"><a href="#基本步骤" class="headerlink" title="基本步骤"></a>基本步骤</h2><h3 id="创建画布-画布尺寸，分辨率"><a href="#创建画布-画布尺寸，分辨率" class="headerlink" title="创建画布(画布尺寸，分辨率)"></a>创建画布(画布尺寸，分辨率)</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">plt.figure(figsize=(<span class="number">16</span>, <span class="number">12</span>), dpi=<span class="number">100</span>)</span><br><span class="line">x = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line">y = [<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>]</span><br></pre></td></tr></table></figure>

<h3 id="绘制"><a href="#绘制" class="headerlink" title="绘制"></a>绘制</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">plt.plot(x, y)</span><br><span class="line">plt.savefig(<span class="string">&quot;test.png&quot;</span>) </span><br></pre></td></tr></table></figure>

<h3 id="显示"><a href="#显示" class="headerlink" title="显示"></a>显示</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<h2 id="图像绘制"><a href="#图像绘制" class="headerlink" title="图像绘制"></a>图像绘制</h2><h3 id="导入模块"><a href="#导入模块" class="headerlink" title="导入模块"></a>导入模块</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> random</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="built_in">range</span>(<span class="number">30</span>)</span><br><span class="line">y1 = [random.uniform(<span class="number">5</span>, <span class="number">15</span>) <span class="keyword">for</span> i <span class="keyword">in</span> x]</span><br><span class="line">y2 = [random.uniform(<span class="number">10</span>, <span class="number">30</span>) <span class="keyword">for</span> i <span class="keyword">in</span> x]</span><br></pre></td></tr></table></figure>

<h3 id="创建画布"><a href="#创建画布" class="headerlink" title="创建画布"></a>创建画布</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">plt.figure(figsize=(<span class="number">20</span>, <span class="number">8</span>), dpi=<span class="number">100</span>)</span><br><span class="line">plt.plot(x, y1, label=<span class="string">&quot;North&quot;</span>, color=<span class="string">&quot;g&quot;</span>, linestyle=<span class="string">&quot;-.&quot;</span>)  <span class="comment"># 还可以指定线的颜色，样式</span></span><br><span class="line">plt.plot(x, y2, label=<span class="string">&quot;South&quot;</span>)</span><br></pre></td></tr></table></figure>

<h3 id="添加x-y轴刻度"><a href="#添加x-y轴刻度" class="headerlink" title="添加x, y轴刻度"></a>添加x, y轴刻度</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">x_ticks_labels = [<span class="string">&quot;3月&#123;&#125;日&quot;</span>.<span class="built_in">format</span>(i) <span class="keyword">for</span> i <span class="keyword">in</span> x]</span><br><span class="line">y_ticks = <span class="built_in">range</span>(<span class="number">40</span>)</span><br><span class="line">plt.xticks(x[::<span class="number">5</span>], x_ticks_labels[::<span class="number">5</span>])</span><br><span class="line">plt.yticks(y_ticks[::<span class="number">5</span>])</span><br></pre></td></tr></table></figure>

<h3 id="添加网格"><a href="#添加网格" class="headerlink" title="添加网格"></a>添加网格</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.grid(<span class="literal">True</span>, linestyle=<span class="string">&quot;-&quot;</span>, alpha=<span class="number">0.8</span>)	<span class="comment"># (默认为True，网格的样式，透明度)</span></span><br></pre></td></tr></table></figure>

<h3 id="添加描述"><a href="#添加描述" class="headerlink" title="添加描述"></a>添加描述</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">plt.xlabel(<span class="string">&quot;时间&quot;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&quot;温度&quot;</span>)</span><br><span class="line">plt.title(<span class="string">&quot;每小时的温度变化&quot;</span>)</span><br></pre></td></tr></table></figure>

<h3 id="添加图例"><a href="#添加图例" class="headerlink" title="添加图例"></a>添加图例</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.legend()	<span class="comment"># (注意：在这之前，必须在plot()中加入label，图例才有效果)</span></span><br></pre></td></tr></table></figure>

<h3 id="保存并显示图像"><a href="#保存并显示图像" class="headerlink" title="保存并显示图像"></a>保存并显示图像</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">plt.savefig(<span class="string">&quot;demo.png&quot;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">​```</span><br><span class="line">plt.savefig(&quot;demo.png&quot;)</span><br><span class="line">plt.show()</span><br><span class="line">​```</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/01/04/DeepLearning02/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/01/04/DeepLearning02/" class="post-title-link" itemprop="url">深度学习入门（二）</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-01-04 19:00:02" itemprop="dateCreated datePublished" datetime="2022-01-04T19:00:02+08:00">2022-01-04</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-04-24 19:28:22" itemprop="dateModified" datetime="2022-04-24T19:28:22+08:00">2022-04-24</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python%E8%BF%9B%E9%98%B6/" itemprop="url" rel="index"><span itemprop="name">Python进阶</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="第二篇：Keras总结二"><a href="#第二篇：Keras总结二" class="headerlink" title="第二篇：Keras总结二"></a>第二篇：Keras总结二</h1><p>案例2：</p>
<p>基于CIFAR-10数据集训练简单的 MLP分类模型。</p>
<p>分类任务的 MLP：<br>        当目标(y)是离散的，对于损失函数，使用交叉熵；对于评估指标，通常使用accuracy。</p>
<p>CIFAR-10数据集包含10个类。共60000个图像，其中50000个用于训练，10000个用于测试。</p>
<h2 id="导入数据集并加载数据"><a href="#导入数据集并加载数据" class="headerlink" title="导入数据集并加载数据"></a>导入数据集并加载数据</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> tensorflow.keras.datasets <span class="keyword">import</span> cifar10</span><br><span class="line"><span class="keyword">from</span> tensorflow.keras.utils <span class="keyword">import</span> to_categorical</span><br><span class="line"></span><br><span class="line">(x_train, y_train), (x_test, y_test) = cifar10.load_data()</span><br><span class="line">x_train, x_test = x_train.reshape(x_train.shape[<span class="number">0</span>], -<span class="number">1</span>), x_test.reshape(x_test.shape[<span class="number">0</span>], -<span class="number">1</span>)</span><br><span class="line">y_train, y_test = to_categorical(y_train), to_categorical(y_test)</span><br><span class="line"><span class="built_in">print</span>(x_train.shape, x_test.shape, y_train.shape, y_test.shape)</span><br></pre></td></tr></table></figure>

<h2 id="创建模型"><a href="#创建模型" class="headerlink" title="创建模型"></a>创建模型</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> tensorflow.keras.models <span class="keyword">import</span> Sequential</span><br><span class="line">model = Sequential()</span><br></pre></td></tr></table></figure>

<h3 id="添加层"><a href="#添加层" class="headerlink" title="添加层"></a>添加层</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> tensorflow.keras.layers <span class="keyword">import</span> Activation, Dense</span><br><span class="line"></span><br><span class="line">model.add(Dense(<span class="number">50</span>, input_shape=(x_train.shape[-<span class="number">1</span>],)))  <span class="comment"># 输入层 -&gt; 应该显式指定</span></span><br><span class="line">model.add(Activation(<span class="string">&#x27;sigmoid&#x27;</span>))  <span class="comment"># 激活函数</span></span><br><span class="line">model.add(Dense(<span class="number">50</span>))  <span class="comment"># 隐藏层 -&gt; 应指定输出尺寸</span></span><br><span class="line">model.add(Activation(<span class="string">&#x27;sigmoid&#x27;</span>))</span><br><span class="line">model.add(Dense(<span class="number">50</span>))  </span><br><span class="line">model.add(Activation(<span class="string">&#x27;sigmoid&#x27;</span>))</span><br><span class="line">model.add(Dense(<span class="number">10</span>))  <span class="comment"># 输出层 -&gt; 输出尺寸为10，因为是分类问题</span></span><br><span class="line">model.add(Activation(<span class="string">&#x27;sigmoid&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 下面的代码块与上面的等价</span></span><br><span class="line">model.add(Dense(<span class="number">50</span>, input_shape=(x_train.shape[-<span class="number">1</span>],), activation=<span class="string">&#x27;sigmoid&#x27;</span>))</span><br><span class="line">model.add(Dense(<span class="number">50</span>, activation=<span class="string">&#x27;sigmoid&#x27;</span>))</span><br><span class="line">model.add(Dense(<span class="number">50</span>, activation=<span class="string">&#x27;sigmoid&#x27;</span>))</span><br><span class="line">model.add(Dense(<span class="number">10</span>, activation=<span class="string">&#x27;sigmoid&#x27;</span>))</span><br></pre></td></tr></table></figure>

<h3 id="模型编译"><a href="#模型编译" class="headerlink" title="模型编译"></a>模型编译</h3><p>Keras模型应在训练之前“先编译”，并指定损失函数 和 优化器。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> tensorflow.keras <span class="keyword">import</span> optimizers</span><br><span class="line"></span><br><span class="line">sgd = optimizers.SGD(lr=<span class="number">0.01</span>)  <span class="comment"># # 选用随机梯度下降优化器（学习率=0.01）</span></span><br><span class="line">model.<span class="built_in">compile</span>(optimizer=sgd, loss=<span class="string">&#x27;categorical_crossentropy&#x27;</span>, metrics=[<span class="string">&#x27;accuracy&#x27;</span>])  <span class="comment"># 对于分类问题，通常使用交叉熵损失函数</span></span><br></pre></td></tr></table></figure>

<h3 id="模型架构图"><a href="#模型架构图" class="headerlink" title="模型架构图"></a>模型架构图</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">model.summary()</span><br></pre></td></tr></table></figure>

<h2 id="训练"><a href="#训练" class="headerlink" title="训练"></a>训练</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">model.fit(x_train, y_train, batch_size=<span class="number">128</span>, epochs=<span class="number">50</span>, verbose=<span class="number">1</span>)</span><br></pre></td></tr></table></figure>

<h2 id="评估"><a href="#评估" class="headerlink" title="评估"></a>评估</h2><p>Keras模型可以用evaluate()计算结果。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">results = model.evaluate(x_test, y_test)</span><br><span class="line"><span class="built_in">print</span>(results)                 </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;loss: &#x27;</span>, results[<span class="number">0</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;accuracy: &#x27;</span>, results[<span class="number">1</span>])</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/01/03/DeepLearning01/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/01/03/DeepLearning01/" class="post-title-link" itemprop="url">深度学习入门（一）</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-01-03 18:40:03" itemprop="dateCreated datePublished" datetime="2022-01-03T18:40:03+08:00">2022-01-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-04-24 19:27:56" itemprop="dateModified" datetime="2022-04-24T19:27:56+08:00">2022-04-24</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python%E8%BF%9B%E9%98%B6/" itemprop="url" rel="index"><span itemprop="name">Python进阶</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="第一篇：Keras总结一"><a href="#第一篇：Keras总结一" class="headerlink" title="第一篇：Keras总结一"></a>第一篇：Keras总结一</h1><p>多层感知机(MLP)是深度神经网络(DNN)的根本，用于创建简单的神经网络（即多层感知器）来处理回归、分类任务。<br>MLP结构：<br>        每个MLP模型由一个输入层、几个隐藏层和一个输出层组成；<br>        每层神经元的数目不受限制。<br>回归任务的 MLP：<br>        当目标(y)连续时，对于损失函数和评估指标，通常使用均方误差(MSE)。</p>
<p>案例1：<br>数据集：波士顿住房数据集共有506个数据（404个训练和102个测试），13个属性（特征）预测“某一地点房屋的中值”。</p>
<h2 id="导入数据集并加载数据"><a href="#导入数据集并加载数据" class="headerlink" title="导入数据集并加载数据"></a>导入数据集并加载数据</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> tensorflow.keras.datasets <span class="keyword">import</span> boston_housing</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(X_train, y_train), (X_test, y_test) = boston_housing.load_data()</span><br></pre></td></tr></table></figure>

<h2 id="创建模型"><a href="#创建模型" class="headerlink" title="创建模型"></a>创建模型</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> tensorflow.keras.models <span class="keyword">import</span> Sequential</span><br><span class="line">model = Sequential()</span><br></pre></td></tr></table></figure>

<h3 id="添加层"><a href="#添加层" class="headerlink" title="添加层"></a>添加层</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> tensorflow.keras.layers <span class="keyword">import</span> Activation, Dense</span><br><span class="line"></span><br><span class="line">model.add(Dense(<span class="number">10</span>, input_shape=(<span class="number">13</span>,)))  <span class="comment"># 输入层 -&gt; 应该显式指定</span></span><br><span class="line">model.add(Activation(<span class="string">&#x27;sigmoid&#x27;</span>))  <span class="comment"># 激活函数</span></span><br><span class="line">model.add(Dense(<span class="number">10</span>))  <span class="comment"># 隐藏层 -&gt; 应指定输出尺寸</span></span><br><span class="line">model.add(Activation(<span class="string">&#x27;sigmoid&#x27;</span>))</span><br><span class="line">model.add(Dense(<span class="number">10</span>))  </span><br><span class="line">model.add(Activation(<span class="string">&#x27;sigmoid&#x27;</span>))</span><br><span class="line">model.add(Dense(<span class="number">1</span>))  <span class="comment"># 输出层 -&gt; 输出尺寸为1，因为是回归问题</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 下面的代码块与上面的等价</span></span><br><span class="line">model.add(Dense(<span class="number">10</span>, input_shape=(<span class="number">13</span>,), activation=<span class="string">&#x27;sigmoid&#x27;</span>))</span><br><span class="line">model.add(Dense(<span class="number">10</span>, activation=<span class="string">&#x27;sigmoid&#x27;</span>))</span><br><span class="line">model.add(Dense(<span class="number">10</span>, activation=<span class="string">&#x27;sigmoid&#x27;</span>))</span><br><span class="line">model.add(Dense(<span class="number">1</span>))</span><br></pre></td></tr></table></figure>

<h3 id="模型编译"><a href="#模型编译" class="headerlink" title="模型编译"></a>模型编译</h3><p>Keras模型应在训练之前“先编译”，并指定损失函数 和 优化器。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> tensorflow.keras <span class="keyword">import</span> optimizers</span><br><span class="line"></span><br><span class="line">sgd = optimizers.SGD(lr=<span class="number">0.01</span>)  <span class="comment"># 选用随机梯度下降优化器（学习率=0.01）</span></span><br><span class="line">model.<span class="built_in">compile</span>(optimizer=sgd, loss=<span class="string">&#x27;mean_squared_error&#x27;</span>,</span><br><span class="line">              metrics=[<span class="string">&#x27;mse&#x27;</span>])  <span class="comment"># 对于回归问题，通常使用均方误差(MSE)</span></span><br></pre></td></tr></table></figure>

<h3 id="模型架构图"><a href="#模型架构图" class="headerlink" title="模型架构图"></a>模型架构图</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">model.summary()</span><br></pre></td></tr></table></figure>

<h2 id="训练"><a href="#训练" class="headerlink" title="训练"></a>训练</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">model.fit(X_train, y_train, batch_size=<span class="number">50</span>, epochs=<span class="number">100</span>, verbose=<span class="number">1</span>)</span><br></pre></td></tr></table></figure>

<h2 id="评估"><a href="#评估" class="headerlink" title="评估"></a>评估</h2><p>Keras模型可以用evaluate()计算结果。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">results = model.evaluate(X_test, y_test)</span><br><span class="line"><span class="built_in">print</span>(results)                 </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;loss: &#x27;</span>, results[<span class="number">0</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;mse: &#x27;</span>, results[<span class="number">1</span>])</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/01/01/Hexo01/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/01/01/Hexo01/" class="post-title-link" itemprop="url">Hexo + Github Pages搭建个人博客</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-01-01 18:40:03" itemprop="dateCreated datePublished" datetime="2022-01-01T18:40:03+08:00">2022-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-04-24 19:35:23" itemprop="dateModified" datetime="2022-04-24T19:35:23+08:00">2022-04-24</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Markdown/" itemprop="url" rel="index"><span itemprop="name">Markdown</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>前言</p>
<h1 id="安装Node-js"><a href="#安装Node-js" class="headerlink" title="安装Node.js"></a><a target="_blank" rel="noopener" href="https://nodejs.org/">安装Node.js</a></h1><p>配置环境变量（安装过程中有一个 Add to PATH ，直接Next即可）。</p>
<p>验证 Node.js 是否安装成功</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">node -v</span></span><br></pre></td></tr></table></figure>

<p>注意：Node.js 可以不安装到 C 盘，但是相关依赖项还是会默认安装到 C 盘！</p>
<h1 id="安装Git"><a href="#安装Git" class="headerlink" title="安装Git"></a><a target="_blank" rel="noopener" href="https://git-scm.com/">安装Git</a></h1><p>配置环境变量。</p>
<p>验证 Git 是否安装成功</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git --version</span> </span><br></pre></td></tr></table></figure>

<p>注意：Git 建议安装到系统盘外的其他盘符，减轻系统盘压力</p>
<h1 id="安装Hexo"><a href="#安装Hexo" class="headerlink" title="安装Hexo"></a>安装Hexo</h1><p>在 Git Bash 中执行以下命令，去安装 cnpm（这样一来，安装 Hexo 时，就可以使用国内镜像了）</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">npm install -g cnpm --registry=https://registry.npm.taobao.org</span></span><br></pre></td></tr></table></figure>

<p>验证 cnpm 是否安装成功</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">cnpm -v</span> </span><br></pre></td></tr></table></figure>

<p>在 Git Bash 中执行以下命令，去安装 Hexo</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">cnpm install hexo-cli -g</span></span><br></pre></td></tr></table></figure>

<h3 id="初始化博客"><a href="#初始化博客" class="headerlink" title="初始化博客"></a>初始化博客</h3><p>在任意盘符（建议非系统盘）新建一个 HexoBlog 文件夹（建议文件名为英文），在 HexoBlog 文件夹下右键打开Git Bash。执行以下命令</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">hexo init</span></span><br></pre></td></tr></table></figure>

<p>到 <code>Install dependencies</code> 时可能会卡住，我们只需执行<code>Ctrl + c</code> 结束命令。</p>
<p>再执行以下命令（使用国内镜像去初始化博客）</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">cnpm install</span></span><br></pre></td></tr></table></figure>

<p>注意：初始化之后，不要结束命令或关闭终端（尤其注意<code>Ctrl + c</code>）！不要结束命令或关闭终端（尤其注意<code>Ctrl + c</code>）！不要结束命令或关闭终端（尤其注意<code>Ctrl + c</code>）！重要的事情说三遍。</p>
<p>然后执行以下命令</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">hexo s</span></span><br></pre></td></tr></table></figure>

<p>会弹出 http 开头的网址，复制下来在浏览器打开，就可以看到简化版的博客了。</p>
<h1 id="配置主题"><a href="#配置主题" class="headerlink" title="配置主题"></a><a target="_blank" rel="noopener" href="https://hexo.io/themes/">配置主题</a></h1><p>主题多种多样。初次搭建博客，建议找一个功能齐全，配置简单的主题—就是这个<a target="_blank" rel="noopener" href="https://github.com/theme-next/hexo-theme-next">Next</a> 主题。</p>
<p>你会发现，每个主题都包含三样东西。以Next主题为例：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://theme-next.org/">预览效果</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/theme-next/hexo-theme-next">项目地址</a></li>
<li><a target="_blank" rel="noopener" href="https://theme-next.org/docs/">配置文档</a></li>
</ul>
<h2 id="下载主题"><a href="#下载主题" class="headerlink" title="下载主题"></a>下载主题</h2><ul>
<li><p>方法1</p>
<p>进入主题的项目地址中，点击绿色按钮 Code，再点击 Download Zip，将项目下载到本地并解压。（注意：需要注册一个 Github 账号）</p>
<p>解压之后，将主题文件夹放到之前创建的 HexoBlog 文件夹下的 themes 目录中，并将其命名为主题名。</p>
</li>
<li><p>方法2</p>
<p>进入主题的项目地址中，点击绿色按钮Code，选择 https 开头的地址，复制下来。</p>
<p>在 HexoBlog 文件夹下右键打开 Git Bash，执行以下命令</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git <span class="built_in">clone</span> https开头的地址 themes/主题名字</span></span><br></pre></td></tr></table></figure>

<p>当前下载的主题名字就是 Next。</p>
</li>
</ul>
<h2 id="修改配置文件"><a href="#修改配置文件" class="headerlink" title="修改配置文件"></a>修改配置文件</h2><p>配置文件主要包含两种：</p>
<ul>
<li>站点配置文件（D:\HexoBlog\ _config.yml）</li>
<li>主题配置文件（D:\HexoBlog\themes\Next\ _config.yml）</li>
</ul>
<p>我们需要在站点配置文件中，将 theme 的值修改为 next，并保存，就成功切换到 Next 主题了。</p>
<h2 id="预览主题"><a href="#预览主题" class="headerlink" title="预览主题"></a>预览主题</h2><p>在 HexoBlog 文件夹下右键打开 Git Bash，执行以下命令</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">hexo s</span></span><br></pre></td></tr></table></figure>

<p>将 http 开头的网址，复制下来在浏览器打开，就可以看到使用 Next 主题的博客了。</p>
<h2 id="设置主题中的语言"><a href="#设置主题中的语言" class="headerlink" title="设置主题中的语言"></a>设置主题中的语言</h2><p>我们需要在站点配置文件中，将 language 的值修改为 zh-CN，并保存，就可以使用简体中文了。</p>
<h2 id="其他配置"><a href="#其他配置" class="headerlink" title="其他配置"></a>其他配置</h2><p>在主题配置文件中，可以更改主题的外观。只需修改 Scheme 的值即可。</p>
<p>想改成双栏，只需将 Scheme 的值改为 Pisces。</p>
<h1 id="生成新文章"><a href="#生成新文章" class="headerlink" title="生成新文章"></a>生成新文章</h1><p>在 HexoBlog 文件夹下右键打开 Git Bash，执行以下命令</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">hexo new <span class="string">&quot;New-Post&quot;</span></span></span><br></pre></td></tr></table></figure>

<p>之后会看到，HexoBlog 文件夹下的 source&#x2F;_posts 下，新生成一个后缀名为 .md 的 markdown 文件。</p>
<p>只需安装 <a target="_blank" rel="noopener" href="https://www.typora.io/">Typora</a>，就可以 编辑 markdown 文件了。</p>
<p>打开 markdown 文件，在<code>Front-matter</code> 会看到一些选项可以自定义填写。</p>
<p><code>Front-matter</code> 中的所有选项都不是必填项。建议至少填写 <code>title</code> 和 <code>date</code> 。</p>
<ul>
<li><p>title：文章标题</p>
</li>
<li><p>date 文章日期</p>
</li>
</ul>
<p>除此之外，如：</p>
<ul>
<li><p>author：文章作者</p>
</li>
<li><p>img：文章图片</p>
</li>
<li><p>top：置顶文章（如果 top 值为 true，代表这篇文章会作为首页推荐文章）</p>
</li>
<li><p>categories：文章分类（代表大范围的分类，建议一篇文章一个分类）</p>
</li>
<li><p>tags：文章标签（一篇文章可以有多个标签）</p>
</li>
</ul>
<h2 id="最简示例"><a href="#最简示例" class="headerlink" title="最简示例"></a>最简示例</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">title: </span><br><span class="line">date: </span><br></pre></td></tr></table></figure>

<h2 id="常用示例"><a href="#常用示例" class="headerlink" title="常用示例"></a>常用示例</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">title: </span><br><span class="line">date: </span><br><span class="line">author：</span><br><span class="line">img：</span><br><span class="line">top：</span><br><span class="line">categories：</span><br><span class="line">tags：</span><br></pre></td></tr></table></figure>

<h1 id="部署博客"><a href="#部署博客" class="headerlink" title="部署博客"></a>部署博客</h1><h2 id="部署到-Github"><a href="#部署到-Github" class="headerlink" title="部署到 Github"></a>部署到 Github</h2><ol>
<li><p>在 Github 新建一个仓库（注意：仓库名必须是 Github 用户名.github.io），并添加 READ.ME 来初始化仓库。</p>
</li>
<li><p>在 Git Bash 中执行以下命令（无论弹出什么，一路回车即可），生成 Git 秘钥</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">ssh-keygen -t rsa -C “your_email@youremail.com“</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>执行以下命令，查看秘钥</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cat</span> ~/.ssh/id_rsa.pub</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>复制秘钥，在 Github 上点击 Setting - SSHand GPG keys - New SSH key，将秘钥粘贴在 Key 中（Title 可以设置，也可以不设置）。</p>
<p>在 Git Bash 中执行以下命令</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"> ssh -T git@github.com</span></span><br></pre></td></tr></table></figure>

<p>会弹出 <code>Are you sure you want to continue connecting (yes/no/[fingerprint])? </code>，输入 yes 回车即可。</p>
</li>
<li><p>在仓库中复制 Code 下 git 开头的地址，打开站点配置文件，修改 deploy 相关信息</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repo: git 开头的地址</span><br><span class="line">  branch: main</span><br></pre></td></tr></table></figure>

<p>注意：有一个大坑，新版 Github 中，branch 默认是 main，不再默认是 master 了！！！</p>
</li>
<li><p>在 HexoBlog 文件夹下打开 Git Bash ，执行以下命令</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git config --global user.name <span class="string">&quot;Github用户名&quot;</span></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git config --global user.email <span class="string">&quot;注册Github的邮箱&quot;</span></span></span><br></pre></td></tr></table></figure>
</li>
<li><p>安装上传插件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure>
</li>
<li><p>在 HexoBlog 文件夹下打开 Git Bash ，执行以下命令，即可上传文章</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">hexo clean &amp;&amp; hexo g &amp;&amp; hexo d</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>在仓库中，点击 Settings，在左边栏找到 Pages。在 Github pages 中，Source下的按钮默认为 main，代表用户的 pages 必须由 main branch 构建。</p>
<p>这时，会出现一个地址 <a target="_blank" rel="noopener" href="https://github用户名.github.io/%E3%80%82%E6%89%93%E5%BC%80%E8%BF%99%E4%B8%AA%E5%9C%B0%E5%9D%80%EF%BC%8C%E5%B0%B1%E5%8F%AF%E4%BB%A5%E8%AE%BF%E9%97%AE%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2%E5%95%A6%E3%80%82">https://Github用户名.github.io/。打开这个地址，就可以访问自己的博客啦。</a></p>
</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">John Doe</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">9</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">分类</span>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">标签</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">John Doe</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
